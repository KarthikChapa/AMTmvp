(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{74341:(e,s,t)=>{Promise.resolve().then(t.bind(t,8097))},8097:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L});var a=t(73365),l=t(1521),r=t(17794),n=t(24125),i=t(78699),c=t(57042),o=t(13726),d=t(39902),m=t(41114);let x=l.forwardRef((e,s)=>{let{className:t,children:l,...r}=e;return(0,a.jsxs)(d.bL,{ref:s,className:(0,m.cn)("relative overflow-hidden",t),...r,children:[(0,a.jsx)(d.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,a.jsx)(u,{}),(0,a.jsx)(d.OK,{})]})});x.displayName=d.bL.displayName;let u=l.forwardRef((e,s)=>{let{className:t,orientation:l="vertical",...r}=e;return(0,a.jsx)(d.VM,{ref:s,orientation:l,className:(0,m.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:(0,a.jsx)(d.lr,{className:"relative flex-1 rounded-full bg-border"})})});u.displayName=d.VM.displayName;var h=t(64369),f=t(6655),j=t(14859),g=t(45884),p=t(13689),N=t(15825),v=t(36933),b=t(98862),w=t(39699),y=t(23433),k=t(72801),C=t(68369),T=t(64722),A=t(50704),M=t(22812);function L(){let{sportlinkConnections:e,sportlinkMessages:s,addSportlinkMessage:t}=(0,r.k)(),[d,m]=(0,l.useState)(null),[u,L]=(0,l.useState)(""),[R,F]=(0,l.useState)(""),S=(0,l.useRef)(null),[D,z]=(0,l.useState)("chats"),$=[...e].sort((e,t)=>{let a=s.filter(s=>s.connectionId===e.id).pop(),l=s.filter(e=>e.connectionId===t.id).pop();return a?l?new Date(l.timestamp).getTime()-new Date(a.timestamp).getTime():-1:1}).reverse(),I=$.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.position.toLowerCase().includes(u.toLowerCase())||e.sport.toLowerCase().includes(u.toLowerCase())),q=d?s.filter(e=>e.connectionId===d.id):[];(0,l.useEffect)(()=>{!d&&$.length>0&&m($[0])},[d,$]),(0,l.useEffect)(()=>{var e;null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[q]);let K=()=>{R.trim()&&d&&(t(d,R),F(""),Math.random()>.3&&setTimeout(()=>{let e=["Got it, thanks for letting me know!","That sounds great! When do you want to meet?","I'll check my schedule and get back to you.","Thanks for the update. Looking forward to it!","I appreciate you reaching out. Let's discuss more tomorrow.","Perfect timing! I was just thinking about that.","Interesting point. I'll consider that for our next session.","Can you send me more details about that?","I'm available next week if that works for you.","Let me check with the team and I'll let you know."];t(d,e[Math.floor(Math.random()*e.length)],!1)},2e3+3e3*Math.random()))},E=e=>{let t=s.filter(s=>s.connectionId===e);return t.length>0?t[t.length-1]:null},V=e=>{if(!e)return"";let s=new Date(e.timestamp),t=new Date;return s.toDateString()===t.toDateString()?s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):7>Math.floor((t.getTime()-s.getTime())/864e5)?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][s.getDay()]:s.toLocaleDateString([],{month:"short",day:"numeric"})};return(0,a.jsxs)("div",{className:"flex-1 p-0 flex h-[calc(100vh-65px)]",children:[(0,a.jsxs)("div",{className:"w-full sm:w-80 border-r flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"p-4 border-b",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Messages"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stay connected with your network"}),(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)(f.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.p,{placeholder:"Search messages...",className:"pl-9",value:u,onChange:e=>L(e.target.value)})]})]}),(0,a.jsxs)(h.Tabs,{defaultValue:"chats",className:"flex-1 flex flex-col",onValueChange:z,children:[(0,a.jsxs)(h.TabsList,{className:"w-full justify-start px-4 pt-2 bg-transparent",children:[(0,a.jsx)(h.TabsTrigger,{value:"chats",className:"flex-1",children:"Chats"}),(0,a.jsx)(h.TabsTrigger,{value:"calls",className:"flex-1",children:"Calls"}),(0,a.jsx)(h.TabsTrigger,{value:"requests",className:"flex-1",children:"Requests"})]}),(0,a.jsxs)(h.TabsContent,{value:"chats",className:"flex-1 flex flex-col m-0 p-0 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Recent Messages"}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(x,{className:"flex-1",children:0===I.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-8 px-4 text-center",children:[(0,a.jsx)(f.A,{className:"h-10 w-10 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"font-medium",children:"No conversations found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different search term or start a new chat"})]}):(0,a.jsx)("div",{className:"space-y-1 p-1",children:I.map(e=>{let s=E(e.id),t=!s||s.isFromMe||s.read?0:1;return(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg text-left ".concat((null==d?void 0:d.id)===e.id?"bg-muted":"hover:bg-muted/50"),onClick:()=>m(e),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(c.eu,{children:[(0,a.jsx)(c.BK,{src:e.avatar}),(0,a.jsx)(c.q5,{children:e.name.charAt(0)})]}),e.isOnline&&(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-background"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-medium truncate",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-1",children:s?V(s):""})]}),s&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("p",{className:"text-sm truncate text-muted-foreground flex-1",children:[s.isFromMe&&(0,a.jsx)("span",{className:"mr-1 text-xs",children:s.read?(0,a.jsx)(g.A,{className:"h-3 w-3 inline text-blue-500"}):(0,a.jsx)(p.A,{className:"h-3 w-3 inline"})}),s.content]}),t>0&&(0,a.jsx)(o.E,{variant:"default",className:"ml-2 h-5 w-5 p-0 flex items-center justify-center rounded-full",children:t})]})]})]},e.id)})})})]}),(0,a.jsx)(h.TabsContent,{value:"calls",className:"flex-1 m-0 p-0",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-8 px-4 text-center",children:[(0,a.jsx)(N.A,{className:"h-10 w-10 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"font-medium",children:"Call history"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1 mb-4",children:"No recent calls to display"}),(0,a.jsx)(n.$,{onClick:()=>M.oR.info("Call feature coming soon!"),children:"Start a Call"})]})}),(0,a.jsx)(h.TabsContent,{value:"requests",className:"flex-1 m-0 p-0",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-8 px-4 text-center",children:[(0,a.jsx)(v.A,{className:"h-10 w-10 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"font-medium",children:"Message Requests"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"When someone you're not connected with sends you a message, you'll see it here"})]})})]})]}),(0,a.jsx)("div",{className:"hidden sm:flex flex-col flex-1 h-full overflow-hidden",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(c.eu,{children:[(0,a.jsx)(c.BK,{src:d.avatar}),(0,a.jsx)(c.q5,{children:d.name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-medium",children:d.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:d.isOnline?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," Online"]}):"Last active recently"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>M.oR.info("Call feature coming soon!"),children:(0,a.jsx)(N.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>M.oR.info("Video call feature coming soon!"),children:(0,a.jsx)(b.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>M.oR.info("Contact info"),children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(x,{className:"flex-1 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[0===q.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"font-medium",children:"No messages yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Send a message to start the conversation"})]}):q.map((e,s)=>{let t=s>0?q[s-1]:null,l=!t||t.isFromMe!==e.isFromMe,r=!t||new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()>6e5;return(0,a.jsxs)("div",{className:"space-y-2",children:[r&&(0,a.jsx)("div",{className:"flex justify-center my-4",children:(0,a.jsx)("span",{className:"text-xs bg-muted px-2 py-1 rounded-md text-muted-foreground",children:new Date(e.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}),(0,a.jsx)("div",{className:"flex ".concat(e.isFromMe?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"flex gap-2 max-w-[80%]",children:[!e.isFromMe&&l&&(0,a.jsxs)(c.eu,{className:"h-8 w-8",children:[(0,a.jsx)(c.BK,{src:d.avatar}),(0,a.jsx)(c.q5,{children:d.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"".concat(e.isFromMe||l?"":"ml-10"," space-y-1"),children:[(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat(e.isFromMe?"bg-primary text-primary-foreground":"bg-muted"),children:(0,a.jsx)("p",{className:"text-sm",children:e.content})}),e.isFromMe&&(0,a.jsx)("div",{className:"flex justify-end pr-1",children:(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.read?(0,a.jsx)(g.A,{className:"h-3 w-3 inline text-blue-500"}):(0,a.jsx)(p.A,{className:"h-3 w-3 inline"})})})]})]})})]},e.id)}),(0,a.jsx)("div",{ref:S})]})}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>M.oR.info("Attachment feature coming soon"),children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>M.oR.info("Emoji picker coming soon"),children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(i.p,{placeholder:"Type a message...",className:"flex-1",value:R,onChange:e=>F(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),K())}}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>M.oR.info("Voice message feature coming soon"),children:(0,a.jsx)(T.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{className:"h-9 px-3",size:"sm",onClick:K,disabled:!R.trim(),children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]})})]}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"max-w-md text-center p-6",children:[(0,a.jsx)(y.A,{className:"h-16 w-16 text-muted-foreground mb-4 mx-auto"}),(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Your Messages"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Select a conversation or start a new one to begin messaging with people in your network"}),(0,a.jsx)(n.$,{onClick:()=>{e.length>0?m(e[0]):M.oR.info("Connect with people first to message them")},children:"Start a Conversation"})]})})}),d&&"chats"===D&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-background z-50 sm:hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-8 w-8 mr-1",onClick:()=>m(null),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:(0,a.jsx)("path",{d:"m15 18-6-6 6-6"})})}),(0,a.jsxs)(c.eu,{className:"h-8 w-8",children:[(0,a.jsx)(c.BK,{src:d.avatar}),(0,a.jsx)(c.q5,{children:d.name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-medium text-sm",children:d.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:d.isOnline?"Online":"Offline"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(N.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(A.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(x,{className:"flex-1 p-3",children:(0,a.jsxs)("div",{className:"space-y-4",children:[0===q.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"font-medium",children:"No messages yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Send a message to start the conversation"})]}):q.map((e,s)=>{let t=s>0?q[s-1]:null,l=!t||t.isFromMe!==e.isFromMe,r=!t||new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()>6e5;return(0,a.jsxs)("div",{className:"space-y-2",children:[r&&(0,a.jsx)("div",{className:"flex justify-center my-4",children:(0,a.jsx)("span",{className:"text-xs bg-muted px-2 py-1 rounded-md text-muted-foreground",children:new Date(e.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}),(0,a.jsx)("div",{className:"flex ".concat(e.isFromMe?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"flex gap-2 max-w-[85%]",children:[!e.isFromMe&&l&&(0,a.jsxs)(c.eu,{className:"h-7 w-7",children:[(0,a.jsx)(c.BK,{src:d.avatar}),(0,a.jsx)(c.q5,{children:d.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"".concat(e.isFromMe||l?"":"ml-9"," space-y-1"),children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(e.isFromMe?"bg-primary text-primary-foreground":"bg-muted"),children:(0,a.jsx)("p",{className:"text-sm",children:e.content})}),e.isFromMe&&(0,a.jsx)("div",{className:"flex justify-end pr-1",children:(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.read?(0,a.jsx)(g.A,{className:"h-3 w-3 inline text-blue-500"}):(0,a.jsx)(p.A,{className:"h-3 w-3 inline"})})})]})]})})]},e.id)}),(0,a.jsx)("div",{ref:S})]})}),(0,a.jsx)("div",{className:"p-3 border-t",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-9 w-9",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.p,{placeholder:"Type a message...",className:"flex-1",value:R,onChange:e=>F(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),K())}}),(0,a.jsx)(n.$,{className:R.trim()?"bg-primary":"bg-muted text-muted-foreground",size:"icon",disabled:!R.trim(),onClick:K,children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]})})]})]})}},57042:(e,s,t)=>{"use strict";t.d(s,{BK:()=>c,eu:()=>i,q5:()=>o});var a=t(73365),l=t(1521),r=t(70130),n=t(41114);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...l})});i.displayName=r.bL.displayName;let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",t),...l})});c.displayName=r._V.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...l})});o.displayName=r.H4.displayName},13726:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(73365);t(1521);var l=t(43353),r=t(41114);let n=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n({variant:t}),s),...l})}},78699:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(73365),l=t(1521),r=t(41114);let n=l.forwardRef((e,s)=>{let{className:t,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"},64369:(e,s,t)=>{"use strict";t.d(s,{Tabs:()=>i,TabsContent:()=>d,TabsList:()=>c,TabsTrigger:()=>o});var a=t(73365),l=t(1521),r=t(30687),n=t(41114);let i=r.bL,c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});c.displayName=r.B8.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});o.displayName=r.l9.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});d.displayName=r.UC.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[553,687,179,872,494,347,239,358],()=>s(74341)),_N_E=e.O()}]);